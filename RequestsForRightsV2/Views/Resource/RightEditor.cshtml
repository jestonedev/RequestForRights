@using RequestsForRights.Infrastructure.Extensions
@model RequestsForRights.Models.ModelViews.ResourceViewModel

@{
    var rightIndex = -1;
    if (ViewData.Keys.Contains("RightIndex"))
    {
        int.TryParse(ViewData["RightIndex"].ToString(), out rightIndex);
    }
    if (Model.Resource.ResourceRights[rightIndex].Deleted)
    {
        return;   
    }
}

<li class="list-group-item clearfix rr-right">
    @Html.HiddenFor(r => r.Resource.ResourceRights[rightIndex].IdResourceRight)
    <div class="form-group">
        @Html.RequiredLabelFor(r => r.Resource.ResourceRights[rightIndex].Name,
            new {@class = "col-sm-2 control-label"})
        <div class="col-sm-10">
            @Html.TextBoxFor(r => r.Resource.ResourceRights[rightIndex].Name,
                new {@class = "form-control", placeholder = "Введите наименование права"})
            @Html.ValidationMessageFor(r => r.Resource.ResourceRights[rightIndex].Name)
        </div>
    </div>
    <div class="form-group">
        @Html.RequiredLabelFor(r => r.Resource.ResourceRights[rightIndex].Description,
            new {@class = "col-sm-2 control-label"})
        <div class="col-sm-10">
            @Html.TextAreaFor(r => Model.Resource.ResourceRights[rightIndex].Description,
                new {@class = "form-control", placeholder = "Введите описание права", rows = "4"})
            @Html.ValidationMessageFor(r => r.Resource.ResourceRights[rightIndex].Description)
        </div>
    </div>
    <button name="deleteRight" class="btn btn-danger pull-right">Удалить право</button>
</li>