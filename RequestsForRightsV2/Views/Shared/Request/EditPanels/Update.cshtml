@using RequestsForRights.Infrastructure.Security
@using RequestsForRights.Models.Models
@model dynamic
@{
    dynamic securityService = ViewData["SecurityService"] as RequestSecurityService<RequestUserModel> ??
        (dynamic)(ViewData["SecurityService"] as RequestSecurityService<RequestDelegatePermissionsUserModel>);
    if (securityService == null)
    {
        return;
    }
    var returnUri = Request["returnUri"] ?? Url.Action("Index", "Request");
}
<div class="text-center rr-edit-panel">
    <div class="btn-group" role="group" aria-label="Панель действий">
        <a href="@returnUri"
           class="btn btn-default"
           title="Вернуться к перечню"
           aria-label="Назад">
            <span class="glyphicon glyphicon-circle-arrow-left"></span>
            Назад
        </a>
        <button class="btn btn-default rr-save-button">
            <span class="glyphicon glyphicon-floppy-disk"></span>
            Сохранить
        </button>
        @if (securityService.CanDelete(Model.RequestModel))
        {
            <a href="@Url.Action("Delete", "Request",
                                new { id = Model.RequestModel.IdRequest })" id="delete-button"
               data-success-redirect-to="@Url.Action("Index", "Request")"
               class="btn btn-danger"
               title="Вернуться к перечню"
               aria-label="Удалить">
                <span class="glyphicon glyphicon-remove"></span>
                Удалить
            </a>
        }
    </div>
</div>