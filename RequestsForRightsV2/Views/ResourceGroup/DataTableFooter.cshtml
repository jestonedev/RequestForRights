@model RequestsForRightsV2.Models.ModelViews.ResourceGroupIndexModelView

@{
    Layout = null;
    var pageCount = Math.Ceiling((decimal)Model.ResourceGroups.Count()/Model.FilterOptions.PageSize);
    var firstDisplayedPageIndex = Model.FilterOptions.PageIndex - 5 > 0 ? Model.FilterOptions.PageIndex - 5 : 0;
}
<nav aria-label="Навигация">
    <ul class="pagination">
        @if (Model.FilterOptions.PageIndex == 0)
        {
            <li class="disabled">
                <span>«</span>
            </li>
        }
        else
        {
            <li>
                @Ajax.ActionLink("«", "GetDataTable", new { PageIndex = Model.FilterOptions.PageIndex - 1 }, new AjaxOptions
                        {
                            UpdateTargetId = "main-table-wrapper",
                            InsertionMode = InsertionMode.Replace,
                            Url = Url.Action("GetDataTable", new { PageIndex = Model.FilterOptions.PageIndex - 1 })
                        }, new { ariaLabel = "Предыдущая страница" })
            </li>
        }
        @for (var i = firstDisplayedPageIndex; i <= firstDisplayedPageIndex + 10; i++)
        {
            if (pageCount <= i)
            {
                break;
            }
            <li class="@(Model.FilterOptions.PageIndex == i ? "active" : "")">
                @Ajax.ActionLink((i+1).ToString(), "GetDataTable", new { PageIndex = i }, new AjaxOptions
                        {
                            UpdateTargetId = "main-table-wrapper",
                            InsertionMode = InsertionMode.Replace,
                            Url = Url.Action("GetDataTable", new { PageIndex = i })
                        })
            </li>
        }
        @if (Model.FilterOptions.PageIndex == pageCount - 1)
        {
            <li class="disabled">
                <span>»</span>
            </li>
        }
        else
        {
             <li>
                @Ajax.ActionLink("»", "GetDataTable", new { PageIndex = Model.FilterOptions.PageIndex + 1 }, new AjaxOptions
                            {
                                UpdateTargetId = "main-table-wrapper",
                                InsertionMode = InsertionMode.Replace,
                                Url = Url.Action("GetDataTable", new { PageIndex = Model.FilterOptions.PageIndex + 1 })
                            }, new { ariaLabel = "Следующая страница" })
            </li>   
        }
    </ul>
</nav>